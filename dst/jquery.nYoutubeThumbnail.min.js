/*!
  
  jquery.nYoutubeThumbnail.js
  
  Version: 0.1.0
  Author: Nunifuchisaka(nunifuchisaka@gmail.com)
  Website: http://nunifuchisaka.com/w/n-youtube-thumbnail/demo
  Repository: https://github.com/Nunifuchisaka/nYoutubeThumbnail
  
*/
!function(t,e,i,o){"use strict";e.nYoutube=Backbone.View.extend({initialize:function(t){_.bindAll(this,"onYouTubeIframeAPIReady","onStateChange"),this.opts=_.extend({width:640,height:390},t),this.player,this.play_once=!1,this.on("start",this.onYouTubeIframeAPIReady)},onYouTubeIframeAPIReady:function(){var e=this,i=this.$el.attr("id");this.player=new YT.Player(i+"__player",{width:this.opts.width,height:this.opts.height,videoId:this.opts.videoID,events:{onStateChange:this.onStateChange},playerVars:{rel:0,showinfo:0,wmode:"transparent"}}),this.$el.append(t('<div class="n_video_1__poster"><img src="'+this.opts.poster+'" /></div>')),this.$poster=this.$el.find(".n_video_1__poster"),this.$poster.click(function(){e.$poster.remove(),console.log("再生"),e.player.playVideo()})},onStateChange:function(t){var e=t.data;e!=YT.PlayerState.BUFFERING||this.play_once||(this.$poster.remove(),this.play_once=!0)}})}(jQuery,this,this.document);